<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>GClueSimple: Libgeoclue Reference Manual</title>
<meta name="generator" content="DocBook XSL Stylesheets Vsnapshot">
<link rel="home" href="index.html" title="Libgeoclue Reference Manual">
<link rel="up" href="ch02.html" title="Convenience API">
<link rel="prev" href="ch02.html" title="Convenience API">
<link rel="next" href="ch03.html" title="The Manager object">
<meta name="generator" content="GTK-Doc V1.27 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="5"><tr valign="middle">
<td width="100%" align="left" class="shortcuts">
<a href="#" class="shortcut">Top</a><span id="nav_description">  <span class="dim">|</span> 
                  <a href="#GClueSimple.description" class="shortcut">Description</a></span><span id="nav_hierarchy">  <span class="dim">|</span> 
                  <a href="#GClueSimple.object-hierarchy" class="shortcut">Object Hierarchy</a></span><span id="nav_properties">  <span class="dim">|</span> 
                  <a href="#GClueSimple.properties" class="shortcut">Properties</a></span>
</td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="16" height="16" border="0" alt="Home"></a></td>
<td><a accesskey="u" href="ch02.html"><img src="up.png" width="16" height="16" border="0" alt="Up"></a></td>
<td><a accesskey="p" href="ch02.html"><img src="left.png" width="16" height="16" border="0" alt="Prev"></a></td>
<td><a accesskey="n" href="ch03.html"><img src="right.png" width="16" height="16" border="0" alt="Next"></a></td>
</tr></table>
<div class="refentry">
<a name="GClueSimple"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="GClueSimple.top_of_page"></a>GClueSimple</span></h2>
<p>GClueSimple — Simplified convenience API</p>
</td>
<td class="gallery_image" valign="top" align="right"></td>
</tr></table></div>
<div class="refsect1">
<a name="GClueSimple.functions"></a><h2>Functions</h2>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="functions_return">
<col class="functions_name">
</colgroup>
<tbody>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="GClueSimple.html#gclue-simple-new" title="gclue_simple_new ()">gclue_simple_new</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a class="link" href="GClueSimple.html" title="GClueSimple"><span class="returnvalue">GClueSimple</span></a> *
</td>
<td class="function_name">
<a class="link" href="GClueSimple.html#gclue-simple-new-finish" title="gclue_simple_new_finish ()">gclue_simple_new_finish</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a class="link" href="GClueSimple.html" title="GClueSimple"><span class="returnvalue">GClueSimple</span></a> *
</td>
<td class="function_name">
<a class="link" href="GClueSimple.html#gclue-simple-new-sync" title="gclue_simple_new_sync ()">gclue_simple_new_sync</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a class="link" href="GClueClient.html" title="GClueClient"><span class="returnvalue">GClueClient</span></a> *
</td>
<td class="function_name">
<a class="link" href="GClueSimple.html#gclue-simple-get-client" title="gclue_simple_get_client ()">gclue_simple_get_client</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a class="link" href="GClueLocation.html" title="GClueLocation"><span class="returnvalue">GClueLocation</span></a> *
</td>
<td class="function_name">
<a class="link" href="GClueSimple.html#gclue-simple-get-location" title="gclue_simple_get_location ()">gclue_simple_get_location</a> <span class="c_punctuation">()</span>
</td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect1">
<a name="GClueSimple.properties"></a><h2>Properties</h2>
<div class="informaltable"><table class="informaltable" border="0">
<colgroup>
<col width="150px" class="properties_type">
<col width="300px" class="properties_name">
<col width="200px" class="properties_flags">
</colgroup>
<tbody>
<tr>
<td class="property_type"><a class="link" href="libgeoclue-gclue-enums.html#GClueAccuracyLevel" title="enum GClueAccuracyLevel"><span class="type">GClueAccuracyLevel</span></a></td>
<td class="property_name"><a class="link" href="GClueSimple.html#GClueSimple--accuracy-level" title="The “accuracy-level” property">accuracy-level</a></td>
<td class="property_flags">Write / Construct Only</td>
</tr>
<tr>
<td class="property_type">
<a class="link" href="GClueClientProxy.html" title="GClueClientProxy"><span class="type">GClueClientProxy</span></a> *</td>
<td class="property_name"><a class="link" href="GClueSimple.html#GClueSimple--client" title="The “client” property">client</a></td>
<td class="property_flags">Read</td>
</tr>
<tr>
<td class="property_type">
<a href="../glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *</td>
<td class="property_name"><a class="link" href="GClueSimple.html#GClueSimple--desktop-id" title="The “desktop-id” property">desktop-id</a></td>
<td class="property_flags">Write / Construct Only</td>
</tr>
<tr>
<td class="property_type">
<a class="link" href="GClueLocationProxy.html" title="GClueLocationProxy"><span class="type">GClueLocationProxy</span></a> *</td>
<td class="property_name"><a class="link" href="GClueSimple.html#GClueSimple--location" title="The “location” property">location</a></td>
<td class="property_flags">Read</td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect1">
<a name="GClueSimple.object-hierarchy"></a><h2>Object Hierarchy</h2>
<pre class="screen">    <a href="../gobject/gobject-The-Base-Object-Type.html#GObject-struct">GObject</a>
    <span class="lineart">╰──</span> GClueSimple
</pre>
</div>
<div class="refsect1">
<a name="GClueSimple.description"></a><h2>Description</h2>
<p><a class="link" href="GClueSimple.html" title="GClueSimple"><span class="type">GClueSimple</span></a> make it very simple to get latest location and monitoring
location updates. It takes care of the boring tasks of creating a
<a class="link" href="GClueClientProxy.html" title="GClueClientProxy"><span class="type">GClueClientProxy</span></a> instance, starting it, waiting till we have a location fix
and then creating a <a class="link" href="GClueLocationProxy.html" title="GClueLocationProxy"><span class="type">GClueLocationProxy</span></a> instance for it.</p>
<p>Use <a class="link" href="GClueSimple.html#gclue-simple-new" title="gclue_simple_new ()"><code class="function">gclue_simple_new()</code></a> or <a class="link" href="GClueSimple.html#gclue-simple-new-sync" title="gclue_simple_new_sync ()"><code class="function">gclue_simple_new_sync()</code></a> to create a new
<a class="link" href="GClueSimple.html" title="GClueSimple"><span class="type">GClueSimple</span></a> instance. Once you have a <a class="link" href="GClueSimple.html" title="GClueSimple"><span class="type">GClueSimple</span></a> instance, you can get the
latest location using <a class="link" href="GClueSimple.html#gclue-simple-get-location" title="gclue_simple_get_location ()"><code class="function">gclue_simple_get_location()</code></a> or reading the
<a class="link" href="GClueSimple.html#GClueSimple--location" title="The “location” property"><span class="type">“location”</span></a> property. To monitor location updates, connect to
notify signal for this property.</p>
<p>While most applications will find this API very useful, it is most
useful for applications that simply want to get the current location as
quickly as possible and do not care about accuracy (much).</p>
</div>
<div class="refsect1">
<a name="GClueSimple.functions_details"></a><h2>Functions</h2>
<div class="refsect2">
<a name="gclue-simple-new"></a><h3>gclue_simple_new ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
gclue_simple_new (<em class="parameter"><code>const <span class="type">char</span> *desktop_id</code></em>,
                  <em class="parameter"><code><a class="link" href="libgeoclue-gclue-enums.html#GClueAccuracyLevel" title="enum GClueAccuracyLevel"><span class="type">GClueAccuracyLevel</span></a> accuracy_level</code></em>,
                  <em class="parameter"><code><a href="../gio/GCancellable.html#GCancellable-struct"><span class="type">GCancellable</span></a> *cancellable</code></em>,
                  <em class="parameter"><code><a href="../gio/GAsyncResult.html#GAsyncReadyCallback"><span class="type">GAsyncReadyCallback</span></a> callback</code></em>,
                  <em class="parameter"><code><a href="../glib/glib-Basic-Types.html#gpointer"><span class="type">gpointer</span></a> user_data</code></em>);</pre>
<p>Asynchronously creates a <a class="link" href="GClueSimple.html" title="GClueSimple"><span class="type">GClueSimple</span></a> instance. Use
<a class="link" href="GClueSimple.html#gclue-simple-new-finish" title="gclue_simple_new_finish ()"><code class="function">gclue_simple_new_finish()</code></a> to get the created <a class="link" href="GClueSimple.html" title="GClueSimple"><span class="type">GClueSimple</span></a> instance.</p>
<p>See <a class="link" href="GClueSimple.html#gclue-simple-new-sync" title="gclue_simple_new_sync ()"><code class="function">gclue_simple_new_sync()</code></a> for the synchronous, blocking version
of this function.</p>
<div class="refsect3">
<a name="gclue-simple-new.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>desktop_id</p></td>
<td class="parameter_description"><p>The desktop file id (the basename of the desktop file).</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>accuracy_level</p></td>
<td class="parameter_description"><p>The requested accuracy level as <a class="link" href="libgeoclue-gclue-enums.html#GClueAccuracyLevel" title="enum GClueAccuracyLevel"><span class="type">GClueAccuracyLevel</span></a>.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>cancellable</p></td>
<td class="parameter_description"><p>A <a href="../gio/GCancellable.html#GCancellable-struct"><span class="type">GCancellable</span></a> or <a href="../glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>. </p></td>
<td class="parameter_annotations"><span class="annotation">[<acronym title="NULL is OK, both for passing and for returning."><span class="acronym">allow-none</span></acronym>]</span></td>
</tr>
<tr>
<td class="parameter_name"><p>callback</p></td>
<td class="parameter_description"><p>A <a href="../gio/GAsyncResult.html#GAsyncReadyCallback"><span class="type">GAsyncReadyCallback</span></a> to call when the results are ready.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>user_data</p></td>
<td class="parameter_description"><p>User data to pass to <em class="parameter"><code>callback</code></em>
.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
</div>
<hr>
<div class="refsect2">
<a name="gclue-simple-new-finish"></a><h3>gclue_simple_new_finish ()</h3>
<pre class="programlisting"><a class="link" href="GClueSimple.html" title="GClueSimple"><span class="returnvalue">GClueSimple</span></a> *
gclue_simple_new_finish (<em class="parameter"><code><a href="../gio/GAsyncResult.html#GAsyncResult-struct"><span class="type">GAsyncResult</span></a> *result</code></em>,
                         <em class="parameter"><code><a href="../glib/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> **error</code></em>);</pre>
<p>Finishes an operation started with <a class="link" href="GClueSimple.html#gclue-simple-new" title="gclue_simple_new ()"><code class="function">gclue_simple_new()</code></a>.</p>
<div class="refsect3">
<a name="gclue-simple-new-finish.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>result</p></td>
<td class="parameter_description"><p>The <a href="../gio/GAsyncResult.html#GAsyncResult-struct"><span class="type">GAsyncResult</span></a> obtained from the <a href="../gio/GAsyncResult.html#GAsyncReadyCallback"><span class="type">GAsyncReadyCallback</span></a> passed to
<a class="link" href="GClueSimple.html#gclue-simple-new" title="gclue_simple_new ()"><code class="function">gclue_simple_new()</code></a>.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>error</p></td>
<td class="parameter_description"><p>Return location for error or <a href="../glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="gclue-simple-new-finish.returns"></a><h4>Returns</h4>
<p>The constructed proxy
object or <a href="../glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> if <em class="parameter"><code>error</code></em>
is set. </p>
<p><span class="annotation">[<acronym title="Free data after the code is done."><span class="acronym">transfer full</span></acronym>][<acronym title="Override the parsed C type with given type."><span class="acronym">type</span></acronym> GClueSimple]</span></p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="gclue-simple-new-sync"></a><h3>gclue_simple_new_sync ()</h3>
<pre class="programlisting"><a class="link" href="GClueSimple.html" title="GClueSimple"><span class="returnvalue">GClueSimple</span></a> *
gclue_simple_new_sync (<em class="parameter"><code>const <span class="type">char</span> *desktop_id</code></em>,
                       <em class="parameter"><code><a class="link" href="libgeoclue-gclue-enums.html#GClueAccuracyLevel" title="enum GClueAccuracyLevel"><span class="type">GClueAccuracyLevel</span></a> accuracy_level</code></em>,
                       <em class="parameter"><code><a href="../gio/GCancellable.html#GCancellable-struct"><span class="type">GCancellable</span></a> *cancellable</code></em>,
                       <em class="parameter"><code><a href="../glib/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> **error</code></em>);</pre>
<p>The synchronous and blocking version of <a class="link" href="GClueSimple.html#gclue-simple-new" title="gclue_simple_new ()"><code class="function">gclue_simple_new()</code></a>.</p>
<div class="refsect3">
<a name="gclue-simple-new-sync.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>desktop_id</p></td>
<td class="parameter_description"><p>The desktop file id (the basename of the desktop file).</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>accuracy_level</p></td>
<td class="parameter_description"><p>The requested accuracy level as <a class="link" href="libgeoclue-gclue-enums.html#GClueAccuracyLevel" title="enum GClueAccuracyLevel"><span class="type">GClueAccuracyLevel</span></a>.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>cancellable</p></td>
<td class="parameter_description"><p>A <a href="../gio/GCancellable.html#GCancellable-struct"><span class="type">GCancellable</span></a> or <a href="../glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>. </p></td>
<td class="parameter_annotations"><span class="annotation">[<acronym title="NULL is OK, both for passing and for returning."><span class="acronym">allow-none</span></acronym>]</span></td>
</tr>
<tr>
<td class="parameter_name"><p>error</p></td>
<td class="parameter_description"><p>Return location for error or <a href="../glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="gclue-simple-new-sync.returns"></a><h4>Returns</h4>
<p>The new <a class="link" href="GClueSimple.html" title="GClueSimple"><span class="type">GClueSimple</span></a> object or
<a href="../glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> if <em class="parameter"><code>error</code></em>
is set. </p>
<p><span class="annotation">[<acronym title="Free data after the code is done."><span class="acronym">transfer full</span></acronym>][<acronym title="Override the parsed C type with given type."><span class="acronym">type</span></acronym> GClueSimple]</span></p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="gclue-simple-get-client"></a><h3>gclue_simple_get_client ()</h3>
<pre class="programlisting"><a class="link" href="GClueClient.html" title="GClueClient"><span class="returnvalue">GClueClient</span></a> *
gclue_simple_get_client (<em class="parameter"><code><a class="link" href="GClueSimple.html" title="GClueSimple"><span class="type">GClueSimple</span></a> *simple</code></em>);</pre>
<p>Gets the client proxy.</p>
<div class="refsect3">
<a name="gclue-simple-get-client.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>simple</p></td>
<td class="parameter_description"><p>A <a class="link" href="GClueSimple.html" title="GClueSimple"><span class="type">GClueSimple</span></a> object.</p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<div class="refsect3">
<a name="gclue-simple-get-client.returns"></a><h4>Returns</h4>
<p>The client object. </p>
<p><span class="annotation">[<acronym title="Don't free data after the code is done."><span class="acronym">transfer none</span></acronym>][<acronym title="Override the parsed C type with given type."><span class="acronym">type</span></acronym> GClueClientProxy]</span></p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="gclue-simple-get-location"></a><h3>gclue_simple_get_location ()</h3>
<pre class="programlisting"><a class="link" href="GClueLocation.html" title="GClueLocation"><span class="returnvalue">GClueLocation</span></a> *
gclue_simple_get_location (<em class="parameter"><code><a class="link" href="GClueSimple.html" title="GClueSimple"><span class="type">GClueSimple</span></a> *simple</code></em>);</pre>
<p>Gets the current location.</p>
<div class="refsect3">
<a name="gclue-simple-get-location.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>simple</p></td>
<td class="parameter_description"><p>A <a class="link" href="GClueSimple.html" title="GClueSimple"><span class="type">GClueSimple</span></a> object.</p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<div class="refsect3">
<a name="gclue-simple-get-location.returns"></a><h4>Returns</h4>
<p>The last known location
as <a class="link" href="GClueLocation.html" title="GClueLocation"><span class="type">GClueLocation</span></a>. </p>
<p><span class="annotation">[<acronym title="Don't free data after the code is done."><span class="acronym">transfer none</span></acronym>][<acronym title="Override the parsed C type with given type."><span class="acronym">type</span></acronym> GClueLocationProxy]</span></p>
</div>
</div>
</div>
<div class="refsect1">
<a name="GClueSimple.other_details"></a><h2>Types and Values</h2>
</div>
<div class="refsect1">
<a name="GClueSimple.property-details"></a><h2>Property Details</h2>
<div class="refsect2">
<a name="GClueSimple--accuracy-level"></a><h3>The <code class="literal">“accuracy-level”</code> property</h3>
<pre class="programlisting">  “accuracy-level”           <a class="link" href="libgeoclue-gclue-enums.html#GClueAccuracyLevel" title="enum GClueAccuracyLevel"><span class="type">GClueAccuracyLevel</span></a></pre>
<p>The requested maximum accuracy level.</p>
<p>Flags: Write / Construct Only</p>
<p>Default value: GCLUE_ACCURACY_LEVEL_NONE</p>
</div>
<hr>
<div class="refsect2">
<a name="GClueSimple--client"></a><h3>The <code class="literal">“client”</code> property</h3>
<pre class="programlisting">  “client”                   <a class="link" href="GClueClientProxy.html" title="GClueClientProxy"><span class="type">GClueClientProxy</span></a> *</pre>
<p>The client proxy.</p>
<p>Flags: Read</p>
</div>
<hr>
<div class="refsect2">
<a name="GClueSimple--desktop-id"></a><h3>The <code class="literal">“desktop-id”</code> property</h3>
<pre class="programlisting">  “desktop-id”               <a href="../glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *</pre>
<p>The Desktop ID of the application.</p>
<p>Flags: Write / Construct Only</p>
<p>Default value: NULL</p>
</div>
<hr>
<div class="refsect2">
<a name="GClueSimple--location"></a><h3>The <code class="literal">“location”</code> property</h3>
<pre class="programlisting">  “location”                 <a class="link" href="GClueLocationProxy.html" title="GClueLocationProxy"><span class="type">GClueLocationProxy</span></a> *</pre>
<p>The current location.</p>
<p>Flags: Read</p>
</div>
</div>
</div>
<div class="footer">
<hr>Generated by GTK-Doc V1.27</div>
</body>
</html>